(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{2163:function(e,t,r){Promise.resolve().then(r.bind(r,7232))},5639:function(e,t,r){"use strict";r.d(t,{z:function(){return h}});var a=r(7437),s=r(1396),n=r.n(s),l=r(2265),i=r(4949),o=r(6061),d=r(1657);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=l.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:l=!1,...o}=e,u=l?i.g7:"button";return(0,a.jsx)(u,{className:(0,d.cn)(c({variant:s,size:n,className:r})),ref:t,...o})});u.displayName="Button";var f=r(7605),m=r(2173),p=r(4033);let h=[{accessorKey:"address",header:"Address",cell:e=>{var t;let{row:r}=e;return(0,a.jsx)(n(),{className:"underline",href:"/property-details/".concat(null!==(t=r.original.zpid)&&void 0!==t?t:""),target:"_blank",children:r.original.address})}},{accessorKey:"propertyType",header:"Type"},{accessorKey:"listingStatus",header:"Status"},{accessorKey:"price",header:"Price"},{id:"actions",cell:e=>{let{row:t,column:r,table:s}=e,n=t.original.isFavorite,i=(0,p.usePathname)();(0,p.useRouter)();let[o,d]=(0,l.useState)(n);(0,l.useEffect)(()=>{d(n)},[n]);let c=async()=>{var e,a;"/items"===i?null===(e=s.options.meta)||void 0===e||e.deleteData(t.index):(d(!o),null===(a=s.options.meta)||void 0===a||a.updateData(t.index,r.id,!o));try{t.original.isFavorite=!o,await m.Z.post("/api/properties",t.original)}catch(e){console.error("something went wrong")}};return(0,a.jsx)(u,{variant:"outline",size:"icon",className:"h-8 w-8 p-0",onClick:()=>c(),children:o?(0,a.jsx)(f.Z,{fill:"red",strokeWidth:0}):(0,a.jsx)(f.Z,{})})}}]},7232:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var a=r(7437),s=r(2265),n=r(5639),l=r(7934),i=r(3212);function o(){let[e,t]=(0,s.useState)(!1),[r,o]=(0,s.useState)([]);return((0,s.useEffect)(()=>{let e=async()=>{let e=await fetch("/api/properties");if(!e.ok){console.error("Failed to fetch");return}o((await e.json()).map(e=>({propertyType:e.propertyType,zpid:e.zpid,address:e.address,listingStatus:e.listingStatus,price:e.price,livingArea:e.livingArea,isFavorite:!0})))};t(!0),e()},[]),e)?(0,a.jsx)("div",{className:"flex-col",children:(0,a.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between pt-5",children:(0,a.jsx)("h2",{className:"font-bold",children:"My Favorites"})}),(0,a.jsx)(l.Z,{}),(0,a.jsx)("div",{className:"pt-5 overflow-auto max-h-96",children:(0,a.jsx)(i.w,{columns:n.z,sourcedata:r,searchKey:""})})]})}):null}},3212:function(e,t,r){"use strict";r.d(t,{w:function(){return p}});var a=r(7437),s=r(2265),n=r(3216),l=r(7660),i=r(1657);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",r),...s})})});o.displayName="Table";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",r),...s})});d.displayName="TableHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",r),...s})});c.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});u.displayName="TableRow";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});f.displayName="TableHead";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});function p(e){var t;let{columns:r,sourcedata:i,searchKey:p}=e,[h,x]=s.useState(i);s.useEffect(()=>{x(i)},[i]);let g=(0,n.b7)({data:h,columns:r,getCoreRowModel:(0,l.sC)(),getFilteredRowModel:(0,l.vL)(),meta:{updateData:(e,t,r)=>{x(a=>a.map((s,n)=>n===e?{...a[e],[t]:r}:s))},deleteData:(e,t,r)=>{x(t=>t.filter((t,r)=>e!=r))}}});return(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"rounded-md border bg-background",children:(0,a.jsxs)(o,{children:[(0,a.jsx)(d,{children:g.getHeaderGroups().map(e=>(0,a.jsx)(u,{children:e.headers.map(e=>(0,a.jsx)(f,{children:e.isPlaceholder?null:(0,n.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(c,{children:(null===(t=g.getRowModel().rows)||void 0===t?void 0:t.length)?g.getRowModel().rows.map(e=>(0,a.jsx)(u,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,a.jsx)(m,{children:(0,n.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(u,{children:(0,a.jsx)(m,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})})})}m.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},7934:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(7437),s=r(2265),n=r(2158),l=r(1657);let i=s.forwardRef((e,t)=>{let{className:r,orientation:s="horizontal",decorative:i=!0,...o}=e;return(0,a.jsx)(n.f,{ref:t,decorative:i,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...o})});i.displayName=n.f.displayName},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return n},z:function(){return l}});var a=r(7042),s=r(4769);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}let l=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}},function(e){e.O(0,[603,173,142,971,938,744],function(){return e(e.s=2163)}),_N_E=e.O()}]);